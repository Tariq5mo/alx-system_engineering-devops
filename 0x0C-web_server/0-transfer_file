#!/usr/bin/env bash
# Bash script that transfers a file from our client to a server.

if [[ -n $3 ]]; then
    if [[ -z $4 ]]; then
	if [[ -d $1 ]]; then
	    scp -B -r -o Stricthostkeychecking=no "$1" "$3"@"$2":~/
	else
	    scp -B -o Stricthostkeychecking=no "$1" "$3"@"$2":~/
	fi
    else
	if [[ -d $1 ]]; then
	    scp -B -i -o Stricthostkeychecking=no "$4" -r "$1" "$3"@"$2":~/
        else
	    scp -B -i -o Stricthostkeychecking=no "$4" "$1" "$3"@"$2":~/
        fi
    fi
else
    echo "Usage: 0-transfer_file PATH_TO_FILE IP USERNAME PATH_TO_SSH_KEY"
fi
